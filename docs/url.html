---

title: URL Functions

keywords: fastai
sidebar: home_sidebar

summary: "`url` module of the library. Functions related to URL construction"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 00_url.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
    
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">nbdev.showdoc</span> <span class="k">import</span> <span class="o">*</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="URL-Construction-Functions">URL Construction Functions<a class="anchor-link" href="#URL-Construction-Functions">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="url_path_query" class="doc_header"><code>url_path_query</code><a href="https://github.com/kdorichev/joshuaproject/tree/master/joshuaproject/url.py#L19" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>url_path_query</code>(<strong><code>path</code></strong>:<code>str</code>, <strong><code>cntry</code></strong>:<code>str</code>=<em><code>None</code></em>, <strong><code>pgid</code></strong>:<code>str</code>=<em><code>None</code></em>, <strong><code>lang</code></strong>=<em><code>None</code></em>, <strong><code>extra</code></strong>=<em><code>None</code></em>, <strong><code>month</code></strong>=<em><code>None</code></em>, <strong><code>day</code></strong>=<em><code>None</code></em>, <strong><code>api_key</code></strong>=<em><code>'your_api_key'</code></em>)</p>
</blockquote>
<p>Builds and returns a string url to query <code>path</code> for <code>cntry</code>
with optional <code>pgid</code>,<code>extra</code>,<code>month</code> and <code>day</code>.</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a href="/joshuaproject/url#url_path_query"><code>url_path_query</code></a> is a <strong>generic low-level</strong> function. It requires specification of required <code>path</code> and if used without other specific arguments, returns over 17000 records.</p>
<p><code>cntry</code> is a two-letter country code as was specified in FIPS 10-4 (US Federal Information Processing Standard), which is now absolete a bit differs from the international ISO 3166 standard. See details.</p>
<p>The library provides a helper function to work around the current ambiguity.</p>
<p><code>pgid</code> is a string with people group id.</p>
<p><code>extra</code> is an <em>optional</em> argument in a form <code>field=value</code>, for example: <code>'LeastReached=Y'</code></p>
<p><code>month</code> and <code>day</code> are <em>optional</em> arguments of type <code>int</code> used in <a href="/joshuaproject/url#url_upgotd"><code>url_upgotd</code></a> to specify the date for which to request the unreached people group. If either is omitted, the value of the current date is used. If <code>int</code> values are passed, these are coverted to proper <code>str</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_eq</span><span class="p">(</span><span class="n">url_path_query</span><span class="p">(</span><span class="s1">&#39;/api/v2/people_groups&#39;</span><span class="p">),</span>
        <span class="n">f</span><span class="s1">&#39;https://joshuaproject.net/api/v2/people_groups?&amp;api_key=</span><span class="si">{api_key}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">url_upgotd</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">url_path_query</span><span class="p">,</span><span class="s1">&#39;/api/v2/upgotd&#39;</span><span class="p">)</span>
<span class="n">url_upgotd</span><span class="o">.</span><span class="vm">__doc__</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;Get data for the Unreached People Group of the Day.&quot;&quot;&quot;</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="url_upgotd" class="doc_header"><code>url_upgotd</code><a href="" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>url_upgotd</code>(<strong><code>cntry</code></strong>:<code>str</code>=<em><code>None</code></em>, <strong><code>pgid</code></strong>:<code>str</code>=<em><code>None</code></em>, <strong><code>lang</code></strong>=<em><code>None</code></em>, <strong><code>extra</code></strong>=<em><code>None</code></em>, <strong><code>month</code></strong>=<em><code>None</code></em>, <strong><code>day</code></strong>=<em><code>None</code></em>, <strong><code>api_key</code></strong>=<em><code>'your_api_key'</code></em>)</p>
</blockquote>
<p>Get data for the Unreached People Group of the Day.</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">m</span><span class="p">,</span><span class="n">d</span> <span class="o">=</span> <span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%-m&quot;</span><span class="p">),</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%-d</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span>
    <span class="n">url_upgotd</span><span class="p">(),</span>
    <span class="n">f</span><span class="s1">&#39;https://joshuaproject.net/api/v2/upgotd?&amp;LRofTheDayMonth=</span><span class="si">{m}</span><span class="s1">&amp;LRofTheDayDay=</span><span class="si">{d}</span><span class="s1">&amp;api_key=</span><span class="si">{api_key}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">url_pgs_cntry</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">url_path_query</span><span class="p">,</span><span class="s1">&#39;/api/v2/people_groups&#39;</span><span class="p">)</span>
<span class="n">url_pgs_cntry</span><span class="o">.</span><span class="vm">__doc__</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;Get all people groups in a specific `cntry` country.&quot;&quot;&quot;</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="url_pgs_cntry" class="doc_header"><code>url_pgs_cntry</code><a href="" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>url_pgs_cntry</code>(<strong><code>cntry</code></strong>:<code>str</code>=<em><code>None</code></em>, <strong><code>pgid</code></strong>:<code>str</code>=<em><code>None</code></em>, <strong><code>lang</code></strong>=<em><code>None</code></em>, <strong><code>extra</code></strong>=<em><code>None</code></em>, <strong><code>month</code></strong>=<em><code>None</code></em>, <strong><code>day</code></strong>=<em><code>None</code></em>, <strong><code>api_key</code></strong>=<em><code>'your_api_key'</code></em>)</p>
</blockquote>
<p>Get all people groups in a specific <code>cntry</code> country.</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Note</strong>, since <code>cntry</code> is the first positional argument, it can be passed by value only.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">country</span> <span class="o">=</span> <span class="s1">&#39;EN&#39;</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">url_pgs_cntry</span><span class="p">(</span><span class="n">country</span><span class="p">),</span>
    <span class="n">f</span><span class="s1">&#39;https://joshuaproject.net/api/v2/people_groups?ROG3=</span><span class="si">{country}</span><span class="s1">&amp;api_key=</span><span class="si">{api_key}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">url_upgs_cntry</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">url_pgs_cntry</span><span class="p">,</span><span class="n">extra</span><span class="o">=</span><span class="s1">&#39;LeastReached=Y&#39;</span><span class="p">)</span>
<span class="n">url_upgs_cntry</span><span class="o">.</span><span class="vm">__doc__</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;Get all unreached people groups in a specific `cntry` country.&quot;&quot;&quot;</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="url_upgs_cntry" class="doc_header"><code>url_upgs_cntry</code><a href="" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>url_upgs_cntry</code>(<strong><code>cntry</code></strong>:<code>str</code>=<em><code>None</code></em>, <strong><code>pgid</code></strong>:<code>str</code>=<em><code>None</code></em>, <strong><code>lang</code></strong>=<em><code>None</code></em>, <strong><code>extra</code></strong>=<em><code>'LeastReached=Y'</code></em>, <strong><code>month</code></strong>=<em><code>None</code></em>, <strong><code>day</code></strong>=<em><code>None</code></em>, <strong><code>api_key</code></strong>=<em><code>'your_api_key'</code></em>)</p>
</blockquote>
<p>Get all unreached people groups in a specific <code>cntry</code> country.</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_eq</span><span class="p">(</span><span class="n">url_upgs_cntry</span><span class="p">(</span><span class="s1">&#39;IN&#39;</span><span class="p">),</span>
    <span class="n">f</span><span class="s1">&#39;https://joshuaproject.net/api/v2/people_groups?ROG3=IN&amp;LeastReached=Y&amp;api_key=</span><span class="si">{api_key}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">url_pg_cntry</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">url_pgs_cntry</span><span class="p">)</span>
<span class="n">url_pg_cntry</span><span class="o">.</span><span class="vm">__doc__</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;Get a specific people group in a specific `cntry` country.&quot;&quot;&quot;</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="url_pg_cntry" class="doc_header"><code>url_pg_cntry</code><a href="" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>url_pg_cntry</code>(<strong><code>cntry</code></strong>:<code>str</code>=<em><code>None</code></em>, <strong><code>pgid</code></strong>:<code>str</code>=<em><code>None</code></em>, <strong><code>lang</code></strong>=<em><code>None</code></em>, <strong><code>extra</code></strong>=<em><code>None</code></em>, <strong><code>month</code></strong>=<em><code>None</code></em>, <strong><code>day</code></strong>=<em><code>None</code></em>, <strong><code>api_key</code></strong>=<em><code>'your_api_key'</code></em>)</p>
</blockquote>
<p>Get a specific people group in a specific <code>cntry</code> country.</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_eq</span><span class="p">(</span><span class="n">url_pg_cntry</span><span class="p">(</span><span class="n">cntry</span><span class="o">=</span><span class="s1">&#39;RS&#39;</span><span class="p">),</span>
    <span class="n">f</span><span class="s1">&#39;https://joshuaproject.net/api/v2/people_groups?ROG3=RS&amp;api_key=</span><span class="si">{api_key}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">url_pg_cntries</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">url_pgs_cntry</span><span class="p">)</span>
<span class="n">url_pg_cntries</span><span class="o">.</span><span class="vm">__doc__</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;Get all countries a specific `pgid` people group lives in&quot;&quot;&quot;</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>People group is to be encoded as <code>PeopleID3</code> -- People-Group-Across-Countries ID number.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="url_pg_cntries" class="doc_header"><code>url_pg_cntries</code><a href="" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>url_pg_cntries</code>(<strong><code>cntry</code></strong>:<code>str</code>=<em><code>None</code></em>, <strong><code>pgid</code></strong>:<code>str</code>=<em><code>None</code></em>, <strong><code>lang</code></strong>=<em><code>None</code></em>, <strong><code>extra</code></strong>=<em><code>None</code></em>, <strong><code>month</code></strong>=<em><code>None</code></em>, <strong><code>day</code></strong>=<em><code>None</code></em>, <strong><code>api_key</code></strong>=<em><code>'your_api_key'</code></em>)</p>
</blockquote>
<p>Get all countries a specific <code>pgid</code> people group lives in</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pgid</span><span class="o">=</span><span class="mi">18859</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">url_pg_cntries</span><span class="p">(</span><span class="n">pgid</span><span class="o">=</span><span class="n">pgid</span><span class="p">),</span>
    <span class="n">f</span><span class="s1">&#39;https://joshuaproject.net/api/v2/people_groups?&amp;PeopleID3=</span><span class="si">{pgid}</span><span class="s1">&amp;api_key=</span><span class="si">{api_key}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">url_cntry</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">url_path_query</span><span class="p">,</span><span class="s1">&#39;/api/v2/countries&#39;</span><span class="p">)</span>
<span class="n">url_cntry</span><span class="o">.</span><span class="vm">__doc__</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;Get a country summary data.&quot;&quot;&quot;</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="url_cntry" class="doc_header"><code>url_cntry</code><a href="" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>url_cntry</code>(<strong><code>cntry</code></strong>:<code>str</code>=<em><code>None</code></em>, <strong><code>pgid</code></strong>:<code>str</code>=<em><code>None</code></em>, <strong><code>lang</code></strong>=<em><code>None</code></em>, <strong><code>extra</code></strong>=<em><code>None</code></em>, <strong><code>month</code></strong>=<em><code>None</code></em>, <strong><code>day</code></strong>=<em><code>None</code></em>, <strong><code>api_key</code></strong>=<em><code>'your_api_key'</code></em>)</p>
</blockquote>
<p>Get a country summary data.</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">country</span> <span class="o">=</span> <span class="s1">&#39;BD&#39;</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">url_cntry</span><span class="p">(</span><span class="n">country</span><span class="p">),</span>
    <span class="n">f</span><span class="s1">&#39;https://joshuaproject.net/api/v2/countries?ROG3=</span><span class="si">{country}</span><span class="s1">&amp;api_key=</span><span class="si">{api_key}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">url_lang</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">url_path_query</span><span class="p">,</span><span class="s1">&#39;/api/v2/languages&#39;</span><span class="p">)</span>
<span class="n">url_lang</span><span class="o">.</span><span class="vm">__doc__</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;Get summary data for `lang` language.&quot;&quot;&quot;</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Language argument is expected encoded as ROL3.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">lang</span><span class="o">=</span><span class="s1">&#39;hau&#39;</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">url_lang</span><span class="p">(</span><span class="n">lang</span><span class="o">=</span><span class="n">lang</span><span class="p">),</span>
    <span class="n">f</span><span class="s1">&#39;https://joshuaproject.net/api/v2/languages?&amp;ROL3=</span><span class="si">{lang}</span><span class="s1">&amp;api_key=</span><span class="si">{api_key}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>
 

